<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HGuard – Hedera Wallet Validator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="/static/Hguard-logo.png" />
  <link rel="stylesheet" href="/static/style.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="shell">
    <header style="display:flex;flex-direction:column;align-items:center;justify-content:center;margin:2rem auto;text-align:center;">
      <img src="/static/Hguard-logo.png" alt="HGuard Logo" style="width:220px;height:auto;margin-bottom:1rem;">
      <div>
        <div style="font-size:1.8rem;font-weight:700;color:#fff;letter-spacing:0.5px;margin-bottom:0.3rem;">
          HGuard — Hedera Wallet Validator
        </div>
        <span style="font-size:1rem;color:#fff;font-style:italic;">
          Wallet Validation • Last 5 TX • ISO 20022 Export
        </span>
      </div>
    </header>

    <div class="grid">
      <!-- FORM -->
      <section class="card">
        <form id="validateForm" autocomplete="off">
          <label for="accountId">Hedera Account ID</label>
          <input type="text" id="accountId" name="accountId" pattern="^0\.0\.\d{1,20}$" required placeholder="e.g. 0.0.98" />
          <div class="actions">
            <button type="submit" id="validateBtn">Validate Wallet</button>
            <button type="button" class="btn-ghost" id="disclaimerLink">Disclaimer</button>
          </div>
        </form>
      </section>

      <!-- RESULT -->
      <section id="resultCard" class="card" style="display:none">
        <div class="kv">
          <span class="label">Balance</span>
          <span id="balance" class="value">—</span>
        </div>
        <div class="kv">
          <span class="label">Tx Count (last 100)</span>
          <span id="txCount" class="value">—</span>
        </div>
        <div class="kv">
          <span class="label">Risk Score</span>
          <span id="scoreBadge" class="score">—</span>
        </div>
        <div class="kv" style="align-items:flex-start">
          <span class="label" style="padding-top:6px">Last 5 Transactions</span>
          <ul id="last5Tx" class="value" style="list-style:disc"></ul>
        </div>
        <div class="actions" style="margin-top:12px">
          <button type="button" id="exportBtn">Export ISO 20022 (XML)</button>
          <span id="flags"></span>
        </div>
      </section>
    </div>

    <!-- FOOTER -->
    <footer>
      <span>We respect your privacy: only public info is used.</span>
      <br />
      <a id="status-health"  class="pill" href="/health"  target="_blank" rel="noopener">Health: <strong>Checking…</strong></a>
      ·
      <a id="status-metrics" class="pill" href="/metrics" target="_blank" rel="noopener">Requests: <strong>Loading…</strong></a>
      ·
      <a id="status-version" class="pill" href="/version" target="_blank" rel="noopener">Version: <strong>—</strong></a>
    </footer>
  </div>

  <!-- Disclaimer Modal -->
  <div id="disclaimerModal">
    <div class="modal-content">
      <h2>Disclaimer</h2>
      <p>
        HGuard does not store private keys, seed phrases, or sensitive user data. Only public account information from Hedera Mirror Node API is fetched. Logs are hashed and anonymized (no PII).
        Wallet validation and risk scores are informational only and do not constitute financial advice. ADCX Lab and HGuard are not liable for any losses arising from the use of this tool. This MVP is for research and compliance demonstration purposes under grant funding, not a regulated financial product.
      </p>
      <div class="modal-actions">
        <button class="btn-danger" id="closeDisclaimer">Close</button>
      </div>
    </div>
  </div>

  <script src="/static/script.js"></script>
  <script src="/static/status.js" defer></script>
</body>
</html>
